_REQ={}_REQ['YFS:version_out.lua']=(function()local a={APP_NAME="Yoarii's Flight System",APP_VERSION="f36bf4a / 20231223 22:12"}return a end)()_REQ['YFS:screen/offline_layout.lua']=(function()local a=_REQ['YFS:version_out.lua']local b={fonts={version={font="Play",size=18},offline={font="Play",size=36}},styles={version={fill="#ffffffff",align="h2,v4"},bkgDark={fill="#2F3637ff"},offline={fill="#ffffffff",align="h1,v2"}},pages={offline={components={{comment="background",type="box",layer=1,style="bkgDark",pos1="(0,0)",pos2="(1024,613)"},{type="text",layer=1,pos1="(512,500)",text="YFS - Offline",font="offline",style="offline"},{type="image",layer=2,pos1="(260,180)",dimensions="(180,210)",url="assets.prod.novaquark.com/94617/dcf01ca2-4e9d-410c-ac90-f806634671d9.png",style="bkgDark"},{type="image",layer=2,pos1="(640,180)",dimensions="(180,180)",url="assets.prod.novaquark.com/70604/92eeafe5-527f-49f5-af7a-cb0c4a771f5b.png",style="bkgDark"},{type="text",pos1="(1004,593)",text=a.APP_VERSION,layer=1,font="version",style="version"}}}}}return b end)()_REQ['YFS:../e/render/src/native/Color.lua']=(function()local a=math.max;local b=math.min;local c=string.format;local d=function(e,f,g)return b(a(e,f),g)end;local function h(i)return tonumber("0x"..i)/255 end;local j={}j.__index=j;function j.New(k,l,m,n)local o={Red=d(k,0,5),Green=d(l,0,5),Blue=d(m,0,5),Alpha=d(n or 1,0,1)}function o.Unpack()return o.Red,o.Green,o.Blue,o.Alpha end;function o.Clone()return j.New(o.Red,o.Green,o.Blue,o.Alpha)end;function o.ToString()return string.format(j.FormatString,o.Red,o.Green,o.Blue,o.Alpha)end;return setmetatable(o,j)end;function j.__tostring(p)return p.ToString()end;function j.__eq(q,r)return q.Red==r.Red and q.Green==r.Green and q.Blue==r.Blue and q.Alpha==r.Alpha end;function j.Transparent()return j.New(0,0,0,0)end;function j.FromString(o)if not o then return j.Transparent()end;local s,t,r,q=o:match("^r(%d*%.?%d+),g(%d*%.?%d+),b(%d*%.?%d+),a(%d*%.?%d+)$")s=tonumber(s)t=tonumber(t)r=tonumber(r)q=tonumber(q)if s and t and r and q then return j.New(s,t,r,q)end;s,t,r,q=o:match("^%s*#%s*(%x%x)(%x%x)(%x%x)(%x%x)%s*$")if s and t and r and q then return j.New(h(s),h(t),h(r),h(q))end;return j.Transparent()end;j.FormatString="r%0.3f,g%0.3f,b%0.3f,a%0.3f"return j end)()_REQ['YFS:../e/render/src/native/Vec2.lua']=(function()local a=math.atan;local b=math.sqrt;local c=math.cos;local d=math.sin;local e=math.abs;local f={}f.__index=f;function f.New(g,h)local i={}if g and h then i.x=g;i.y=h elseif type(g)=="table"then i.x,i.y=g.x or g[1],g.y or g[2]elseif type(g)=="number"then i.x=g;i.y=g else i.x=0;i.y=0 end;return setmetatable(i,f)end;f.unit_x=f.New(1,0)f.unit_y=f.New(0,1)f.zero=f.New(0,0)function f.FromCartesian(j,k)return f.New(j*c(k),j*d(k))end;function f.Clone(l)return f.New(l.x,l.y)end;function f.Add(l,m)return f.New(l.x+m.x,l.y+m.y)end;function f.Sub(l,m)return f.New(l.x-m.x,l.y-m.y)end;function f.Mul(l,m)return f.New(l.x*m.x,l.y*m.y)end;function f.Div(l,m)return f.New(l.x/m.x,l.y/m.y)end;function f.Normalize(l)if l:IsZero()then return f.New()end;return l:Scale(1/l:Len())end;function f.Trim(l,n)return l:Normalize():Scale(math.min(l:Len(),n))end;function f.Cross(l,m)return l.x*m.y-l.y*m.x end;function f.Dot(l,m)return l.x*m.x+l.y*m.y end;function f.Len(l)return b(l.x*l.x+l.y*l.y)end;function f.Len2(l)return l.x*l.x+l.y*l.y end;function f.Dist(l,m)local o=l.x-m.x;local p=l.y-m.y;return b(o*o+p*p)end;function f.Dist2(l,m)local o=l.x-m.x;local p=l.y-m.y;return o*o+p*p end;function f.Scale(l,m)return f.New(l.x*m,l.y*m)end;function f.Rotate(l,q)local r=c(q)local i=d(q)return f.New(r*l.x-i*l.y,i*l.x+r*l.y)end;function f.Perpendicular(l)return f.New(-l.y,l.x)end;function f.AngleTo(l,m)if m then local s=a(m.y,m.x)-a(l.y,l.x)if s>math.pi then s=s-2*math.pi elseif s<=-math.pi then s=s+2*math.pi end;return s end;return a(l.y,l.x)end;function f.Lerp(l,m,i)return l+(m-l)*i end;function f.Unpack(l)return l.x,l.y end;function f.ComponentMin(l,m)return f.New(math.min(l.x,m.x),math.min(l.y,m.y))end;function f.ComponentMax(l,m)return f.New(math.max(l.x,m.x),math.max(l.y,m.y))end;function f.IsVec2(l)return type(l)=="table"and type(l.x)=="number"and type(l.y)=="number"end;function f.IsZero(l)return l.x==0 and l.y==0 end;function f.ToPolar(l)local j=b(l.x^2+l.y^2)local k=a(l.y,l.x)k=k>0 and k or k+2*math.pi;return j,k end;function f.FlipX(l)return f.New(-l.x,l.y)end;function f.FlipY(l)return f.New(l.x,-l.y)end;function f.Abs(l)return f.New(e(l.x),e(l.y))end;function f.ToString(l)return string.format("(%+0.3f,%+0.3f)",l.x,l.y)end;function f.__tostring(l)return l:ToString()end;function f.__unm(l)return f.New(-l.x,-l.y)end;function f.__eq(l,m)if not f.IsVec2(l)or not f.IsVec2(m)then return false end;return l.x==m.x and l.y==m.y end;function f.__add(l,m)return l:Add(m)end;function f.__sub(l,m)return l:Sub(m)end;function f.__mul(l,m)if f.IsVec2(m)then return l:Mul(m)end;return l:Scale(m)end;function f.__div(l,m)if f.IsVec2(m)then return l:Div(m)end;return l:Scale(1/m)end;function f.FromString(i)if i then local g,h=i:match("^%(%s?([+-]*%d*%.?%d+)%s?,%s?([+-]*%d*%.?%d+)%s?%)$")g=tonumber(g)h=tonumber(h)if g and h then return f.New(g,h)end end;return nil end;return f end)()_REQ['YFS:../e/render/src/native/RenderScript.lua']=(function()local a=_REQ['YFS:../e/render/src/native/Vec2.lua']RSShape={Bezier=0,Box=1,BoxRounded=2,Circle=3,Image=4,Line=5,Polygon=6,Text=7}local b={}b.__index=_ENV;local c;function b.Instance()if c then return c end;local d={}c={AddBezier=_ENV.addBezier,AddBox=_ENV.addBox,AddBoxRounded=_ENV.addBoxRounded,AddCircle=_ENV.addCircle,AddImage=_ENV.addImage,AddImageSub=_ENV.addImageSub,AddLine=_ENV.addLine,AddQuad=_ENV.addQuad,AddText=_ENV.addText,AddTriangle=_ENV.addTriangle,CreateLayer=_ENV.createLayer,GetAvailableFontCount=_ENV.getAvailableFontCount,GetAvailableFontName=_ENV.getAvailableFontName,GetCursor=_ENV.getCursor,GetCursorDown=_ENV.getCursorDown,GetCursorPressed=_ENV.getCursorPressed,GetCursorReleased=_ENV.getCursorReleased,GetDeltaTime=_ENV.getDeltaTime,GetFontMetrics=_ENV.getFontMetrics,GetFontSize=_ENV.getFontSize,GetImageSize=_ENV.getImageSize,GetInput=_ENV.getInput,GetLocale=_ENV.getLocale,GetRenderCost=_ENV.getRenderCost,GetRenderCostMax=_ENV.getRenderCostMax,GetResolution=_ENV.getResolution,GetTextBounds=function(e,f)return a.New(_ENV.getTextBounds(e.GetID(),f or""))end,GetTime=_ENV.getTime,IsImageLoaded=_ENV.isImageLoaded,LoadImage=function(g)local h=d[g]if h then return h else local i=_ENV.loadImage(g)d[g]=i;return i end end,LoadFont=_ENV.loadFont,Log=_ENV.logMessage,RequestAnimationFrame=function(j)_ENV.requestAnimationFrame(j)d={}end,SetBackgroundColor=_ENV.setBackgroundColor,SetDefaultFillColor=_ENV.setDefaultFillColor,SetDefaultRotation=_ENV.setDefaultRotation,SetDefaultShadow=_ENV.setDefaultShadow,SetDefaultStrokeColor=_ENV.setDefaultStrokeColor,SetDefaultStrokeWidth=_ENV.setDefaultStrokeWidth,SetDefaultTextAlign=_ENV.setDefaultTextAlign,SetFontSize=_ENV.setFontSize,SetLayerClipRect=_ENV.setLayerClipRect,SetLayerOrigin=_ENV.setLayerOrigin,SetLayerRotation=_ENV.setLayerRotation,SetLayerScale=_ENV.setLayerScale,SetLayerTranslation=_ENV.setLayerTranslation,SetNextFillColor=_ENV.setNextFillColor,SetNextRotation=_ENV.setNextRotation,SetNextRotationDegrees=_ENV.setNextRotationDegrees,SetNextShadow=_ENV.setNextShadow,SetNextStrokeColor=_ENV.setNextStrokeColor,SetNextStrokeWidth=_ENV.setNextStrokeWidth,SetNextTextAlign=_ENV.setNextTextAlign,SetOutput=_ENV.setOutput}setmetatable(c,b)return c end;return b end)()_REQ['YFS:../e/render/src/BindPath.lua']=(function()local a=_REQ['YFS:../e/render/src/native/Color.lua']local b=_REQ['YFS:../e/render/src/native/Vec2.lua']local c=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance().GetTime;local d={}d.__index=d;local function e(f)return f end;function d.New(g)local h={}local i={}local j={}local k={}local l={}local m={}function h.Boolean(n,o,p,q)table.insert(m,{obj=n,propertyName=o,valueName=p,lastUpdate=0,updateInterval=q or g})end;function h.Text(n,o,p,r,q,s)table.insert(i,{obj=n,propertyName=o,valueName=p,format=r or"%s",lastUpdate=0,updateInterval=q or g,modifier=s or e})end;function h.Number(n,o,p,r,q,s)table.insert(j,{obj=n,propertyName=o,valueName=p,format=r,lastUpdate=0,updateInterval=q or g,modifier=s or e})end;function h.Color(n,o,p,q,s)table.insert(k,{obj=n,propertyName=o,valueName=p,lastUpdate=0,updateInterval=q or g,modifier=s or e})end;function h.Vec2(n,o,p,q,s)table.insert(l,{obj=n,propertyName=o,valueName=p,lastUpdate=0,updateInterval=q or g,modifier=s or e})end;function h.ProcessNumber(p,t)local u=c()for v,w in ipairs(j)do if w.valueName==p and u-w.lastUpdate>=w.updateInterval then local x=w.modifier(t)if w.format then x=string.format(w.format,x)end;w.obj[w.propertyName]=x end end end;function h.ProcessVec2(p,t)local u=c()for v,w in ipairs(l)do if w.valueName==p and u-w.lastUpdate>=w.updateInterval then w.obj[w.propertyName]=w.modifier(t)w.lastUpdate=u end end end;function h.ProcessBoolean(p,t)local u=c()for v,w in ipairs(m)do if w.valueName==p and u-w.lastUpdate>=w.updateInterval then w.obj[w.propertyName]=t;w.lastUpdate=u end end end;function h.ProcessText(p,t)local u=c()for v,w in ipairs(i)do if w.valueName==p and u-w.lastUpdate>=w.updateInterval then w.obj[w.propertyName]=string.format(w.format,tostring(w.modifier(t)))w.lastUpdate=u end end;local y=a.FromString(t)if y then for v,w in ipairs(k)do if w.valueName==p and u-w.lastUpdate>=w.updateInterval then w.obj[w.propertyName]=w.modifier(y)w.lastUpdate=u end end end;local f=b.FromString(t)if f then h.ProcessVec2(p,f)end end;return setmetatable(h,d)end;return d end)()_REQ['YFS:../e/render/src/BindPathTree.lua']=(function()local a={}a.__index=a;function a.New()local b={Sub={},Bind={}}return setmetatable(b,a)end;return a end)()_REQ['YFS:../e/render/src/BinderModifier.lua']=(function()local a={}a.__index={}function a.New(b,c,d,e)local f={isMul=b,isDiv=c,percentVal=d,initVal=e}return setmetatable(f,a)end;function a.__call(self,g)local f=self;if f.isMul then return f.initVal*g elseif f.isDiv then return f.initVal/g elseif f.percentVal then return f.initVal+(f.percentVal-f.initVal)*g end;return g end;return a end)()_REQ['YFS:../e/render/src/Binder.lua']=(function()local a=_REQ['YFS:../e/render/src/BindPath.lua']local b=_REQ['YFS:../e/render/src/BindPathTree.lua']local c=_REQ['YFS:../e/render/src/BinderModifier.lua']local d=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local e=_REQ['YFS:../e/render/src/native/Vec2.lua']local f={}f.__index={}local g=0.5;f.InitPat="init{(.-)}"f.PercentPat="percent{(.-)}"function f.New()local h={}local i=b.New()local j={}function h.Path(k)local l=i;for m in string.gmatch(k,"[a-zA-Z0-9_]+")do if not l.Sub[m]then l.Sub[m]=b.New()end;l=l.Sub[m]end;local n=a.New(g)l.Bind[#l.Bind+1]=n;return n end;local function o(p,q)for r,s in pairs(p)do local t=type(s)if e.IsVec2(s)then for _,u in ipairs(q.Bind)do u.ProcessVec2(r,e.New(s))end elseif t=="table"then local n=q.Sub[r]if n then o(s,n)end elseif t=="number"then for _,u in ipairs(q.Bind)do u.ProcessNumber(r,s)end elseif t=="string"then for _,u in ipairs(q.Bind)do u.ProcessText(r,s)end elseif t=="boolean"then for _,u in ipairs(q.Bind)do u.ProcessBoolean(r,s)end end end end;local function v(w,x)for y,z in pairs(x)do local t=type(z)if t~="function"then if t=="table"then if not w[y]then w[y]={}end;v(w[y],z)else w[y]=z end end end end;function h.MergeData(p)if not p then return end;v(j,p)end;function h.SetData(p)j=p or{}end;function h.Render()o(j,i)end;function h.Clear()i=b.New()j={}end;local A="$str%((.-)%)"local B="$num%((.-)%)"local C="$vec2%((.-)%)"local D="$bool%((.-)%)"local E="path{([^%s:{}]-):([^%s:{}]-)}"local F="format{([%s%S]-)}"local G="interval{(%d*%.?%d+)}"local H="op{mul}"local I="op{div}"local function J(K,L,M,N)if M then K[L]=string.format(M,N)else K[L]=N end end;local function O(P)return P and P:match('^%s*(.*%S)')or""end;local function Q(P)P=O(P)return P=="true"or P=="1"end;function h.CreateBinding(R,K,L)if not(R and K and L)then return false end;local S=R:match(A)~=nil;local T=not S and R:match(B)~=nil;local U=not T and R:match(C)~=nil;local V=not U and R:match(D)~=nil;if not(S or T or U or V)then return false end;local M=R:match(F)local W=tonumber(R:match(G))or g;local X=R:match(f.InitPat)if not X then d.Log("'init' missing in expression "..R)return false end;local k,r=R:match(E)k=k or""if not(k and r)then d.Log("'path' or 'key' missing in expression "..R)return false end;local Y=R:match(H)~=nil;local Z=R:match(I)~=nil;local a0=R:match(f.PercentPat)if U then local N=e.FromString(X)if not N then d.Log("Invalid init value '"..X.."' for Vec2 in expression"..R)return false end;local a1;if a0 then a1=e.FromString(a0)if not a1 then d.Log("Invalid percent value '"..a0 .."' for Vec2 in expression "..R)return false end end;K[L]=N;local n=h.Path(k)n.Vec2(K,L,r,W,c.New(Y,Z,a1,N))elseif S then local n=h.Path(k)J(K,L,M,X)n.Text(K,L,r,M or"%s",W)elseif V then local n=h.Path(k)J(K,L,nil,Q(X))n.Boolean(K,L,r,W)elseif T then local N=tonumber(X)if not N then d.Log("Initial value '"..X.."' not a number in expression "..R)return false end;local a1;if a0 then a1=tonumber(a0)if not a1 then d.Log("Percent value '"..a0 .."' not a number in expression "..R)return false end end;J(K,L,M,N)local n=h.Path(k)n.Number(K,L,r,M,W,c.New(Y,Z,a1,N))end;return true end;return setmetatable(h,f)end;function f.getByPath(a2,k,a3)local a4={}for m in string.gmatch(k,"[a-zA-Z_]+")do a4[#a4+1]=m end;if#a4==0 or not a2 then return nil end;local l=a2;while#a4>0 do local n=table.remove(a4,1)if type(l)=="table"and l[n]then l=l[n]else return nil end end;if type(l)~=a3 then return nil end;return l end;function f.GetNumByPath(a2,k)local a5=f.getByPath(a2,k,"number")return a5 end;function f.GetStrByPath(a2,k)local a5=f.getByPath(a2,k,"string")return a5 end;function f.GetTblByPath(a2,k)local a5=f.getByPath(a2,k,"table")return a5 end;function f.Split(P,a6)local a7,a8=a6 or":",{}local a9=string.format("([^%s]+)",a7)_=P:gsub(a9,function(aa)a8[#a8+1]=aa end)return a8 end;return f end)()_REQ['YFS:../e/render/src/native/LoadedFont.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d)local e={id=a.LoadFont(c,d)}function e.GetID()if not e.id then e.id=a.LoadFont(c,d)end;return e.id end;function e.Reset()e.id=nil end;return setmetatable(e,b)end;return b end)()_REQ['YFS:../e/render/src/native/Font.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b=_REQ['YFS:../e/render/src/native/LoadedFont.lua']FontName={FiraMono="FiraMono",FiraMonoBold="FiraMono-Bold",Montserrat="Montserrat",MontserratLight="Montserrat-Light",MontserratBold="Montserrat-Bold",Play="Play",PlayBold="Play-Bold ",RefrigeratorDeluxe="RefrigeratorDeluxe",RefrigeratorDeluxeLight="RefrigeratorDeluxe-Light",RobotoCondensed="RobotoCondensed",RobotoMono="RobotoMono",RobotoMonoBold="RobotoMono-Bold"}local c={}c.__index=c;local d={}function c.Get(e,f)local g=string.format("%s%0.3f",e,f)local h=d[g]if not h then d[g]=b.New(e,f)end;return d[g]end;function c.Clear()for i,j in pairs(d)do j.Reset()end end;return c end)()_REQ['YFS:../e/render/src/native/ColorAndDistance.lua']=(function()local a=_REQ['YFS:../e/render/src/native/Color.lua']local b={}b.__index=b;function b.New(c,d)local e={Color=c,Distance=d}function e.Clone()return b.New(e.Color.Clone(),e.Distance)end;return setmetatable(e,b)end;function b.None()return b.New(a.Transparent(),0)end;return b end)()_REQ['YFS:../e/render/src/native/TextAlign.lua']=(function()RSAlignHor={Left=0,Center=1,Right=2}RSAlignVer={Ascender=0,Top=1,Middle=2,Baseline=3,Bottom=4,Descender=5}local a={}a.__index=a;function a.New(b,c)local d={Hor=b,Ver=c}function d.Clone()return a.New(d.Hor,d.Ver)end;function d.ToString()return string.format("h%d,v%d",d.Hor,d.Ver)end;function a.__tostring(e)return e.ToString()end;return setmetatable(d,a)end;function a.Default()return a.New(RSAlignHor.Left,RSAlignVer.Top)end;function a.FromString(d)if not d then return a.Default()end;local f,g=d:match("^h%s*(%d)%s*,%s*v%s*(%d)%s*$")f=tonumber(f)g=tonumber(g)if f and g then return a.New(f,g)end;return a.Default()end;function a.__eq(e,h)return e.Hor==h.Hor and e.Ver==h.Ver end;return a end)()_REQ['YFS:../e/render/src/native/Props.lua']=(function()local a=_REQ['YFS:../e/render/src/native/Color.lua']local b=_REQ['YFS:../e/render/src/native/ColorAndDistance.lua']local c=_REQ['YFS:../e/render/src/native/TextAlign.lua']local d=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local e={}e.__index=e;function e.New(f,g,h,i,j)local k={Fill=f or a.Transparent(),Rotation=g or 0,Shadow=h or b.New(a.Transparent(),0),Stroke=i or b.New(a.Transparent(),0),Align=j or c.Default()}function k.Apply(l)d.SetNextFillColor(l,k.Fill:Unpack())d.SetNextRotationDegrees(l,k.Rotation)d.SetNextShadow(l,k.Shadow.Distance,k.Shadow.Color:Unpack())d.SetNextStrokeColor(l,k.Stroke.Color:Unpack())d.SetNextStrokeWidth(l,k.Stroke.Distance)d.SetNextTextAlign(l,k.Align.Hor,k.Align.Ver)end;function k.ApplyDefault(l,m)d.SetDefaultFillColor(l,m,k.Fill:Unpack())d.SetDefaultRotation(l,m,k.Rotation)d.SetDefaultShadow(l,m,k.Shadow.Distance,k.Shadow.Color:Unpack())d.SetDefaultStrokeColor(l,m,k.Stroke.Color:Unpack())d.SetDefaultStrokeWidth(l,m,k.Stroke.Distance)d.SetDefaultTextAlign(l,k.Align.Hor,k.Align.Ver)end;function k.Clone()return e.New(k.Fill.Clone(),k.Rotation,k.Shadow.Clone(),k.Stroke.Clone(),k.TextAlign.Clone())end;function k.Persist()local n={fill=k.Fill.ToString(),align=k.Align.ToString(),rotation=k.Rotation,shadow={color=k.Shadow.Color.ToString(),distance=k.Shadow.Distance},stroke={color=k.Stroke.Color.ToString(),distance=k.Stroke.Distance}}return n end;return setmetatable(k,e)end;function e.Default()return e.New(a.New(1,1,1))end;function e.Load(o)local f=a.FromString(o.fill)or a.Transparent()local g=o.rotation or 0;local p,q;if o.shadow then p=a.FromString(o.shadow.color)q=o.shadow.distance end;local h;if p and q then h=b.New(p,q)else h=b.New(a.Transparent(),0)end;local r,s;if o.stroke then r=a.FromString(o.stroke.color)s=o.stroke.distance end;local i;if r and s then i=b.New(r,s)else i=b.New(a.Transparent(),0)end;local j=c.FromString(o.align)return e.New(f,g,h,i,j)end;return e end)()_REQ['YFS:../e/render/e/stream/e/serializer.lua']=(function()local a=table.concat;local b=string.format;local function c(table,d,e)e[d]="{"d=d+1;if#table==0 then local f=false;for g,h in pairs(table)do f=true;local i=type(g)if i=="string"then e[d]=b("[%q]=",g)elseif i=="number"then e[d]="["..g.."]="elseif i=="boolean"then e[d]="["..tostring(g).."]="else e[d]="notsupported="end;d=d+1;local j=type(h)if j=="table"then d=c(h,d,e)elseif j=="string"then e[d]=b("%q",h)elseif j=="number"then e[d]=h elseif j=="boolean"then e[d]=tostring(h)else e[d]='"Not Supported"'end;e[d+1]=","d=d+2 end;if f then d=d-1 end else for k=1,#table do local h=table[k]local j=type(h)if j=="table"then d=c(h,d,e)elseif j=="string"then e[d]=b("%q",h)elseif j=="number"then e[d]=h elseif j=="boolean"then e[d]=tostring(h)else e[d]='"Not Supported"'end;e[d+1]=","d=d+2 end;d=d-1 end;e[d]="}"return d end;function serialize(h)local e={}local j=type(h)if j=="table"then c(h,1,e)elseif j=="string"then return b("%q",h)elseif j=="number"then return h elseif j=="boolean"then return tostring(h)else return'"Not Supported"'end;return a(e)end;function deserialize(l)return load("return "..l)()end end)()_REQ['YFS:../e/render/e/stream/src/Stream.lua']=(function()local a=_REQ['YFS:../e/render/e/stream/e/serializer.lua']local b=string.byte;local c=table.concat;local d=1+1+1+2+1+3+1+1+1+2+1;local e="#%0.1d|%0.2x|%0.3d|%0.1d|%0.2d|%s"local f="^#(%d)|(%x%x)|(%d+)|(%d)|(%d+)|(.*)$"local g={Reset=0,Poll=1,Ack=2,Data=3}local h={}h.__index=h;function h.New(i,j,k)local l={}local m=i.BlockSize()-d;local getTime=getTime or system.getUtcTime;i.Clear()local n={queue={},waitingForReply=false,seq=-1,payloadChecksum=0}local o={queue={},waitingForReply=false,seq=0}local p=getTime()local function q(r)local s=0;for t=1,r:len()do s=s~b(r,t)end;return s end;local function u(v)n.queue[#n.queue+1]=v end;local function w(x)if x==0 then local y=c(n.queue)if q(y)==n.payloadChecksum then local z=deserialize(y)j.OnData(z)end;n.queue={}end end;local function A(B)if B==n.seq then return true end;n.seq=B;return false end;local function C(D,E,F,G,v,H)H=H or 0;F.seq=F.seq+1;if F.seq>9 then F.seq=0 end;v=v or""local I=string.format(e,D and 1 or 0,H,E,F.seq,G,v)return I end;local function J()local K=i.Read()local L,H,x,B,G,v=K:match(f)v=v or""local M=x and G and L and H;if M then G=tonumber(G)L=tonumber(L)x=tonumber(x)H=tonumber("0x"..H)M=G and x and L and H end;if not M then return true,nil,0,"",0 end;if A(B)then return true,nil,0,"",0 end;return L==1,G,x,v,H end;local function N()o.queue={}o.waitingForReply=false;n.queue={}n.waitingForReply=false end;function l.Tick()local L,G,x,v,H=J()if G then if L then n.payloadChecksum=H end;j.OnTimeout(false,l)p=getTime()if L then n.queue={}end;if i.IsController()then if G==g.Data then u(v)w(x)end;o.waitingForReply=false else local O=false;if G==g.Poll or G==g.Data then if G==g.Data then u(v)w(x)end;if#o.queue>0 then i.Send(table.remove(o.queue,1))else O=true end elseif G==g.Reset then N()O=true end;if O then i.Send(C(true,0,o,g.Ack))end end end;if getTime()-p>=k then j.OnTimeout(true,l)n.payloadChecksum=0;p=getTime()N()end;if i.IsController()and not o.waitingForReply then if#o.queue==0 then i.Send(C(true,0,o,g.Poll))else i.Send(table.remove(o.queue,1))end;o.waitingForReply=true end end;function l.Write(P)local r=serialize(P)local H=q(r)local E=math.ceil(r:len()/m)if E>999 then error("Too large data")end;local L=true;while r:len()>0 do E=E-1;local Q=r:sub(1,m)r=r:sub(m+1)o.queue[#o.queue+1]=C(L,E,o,g.Data,Q,H)L=false;H=0 end end;function l.WaitingToSend()return#o.queue>0 end;setmetatable(l,h)j.RegisterStream(l)return l end;return h end)()_REQ['YFS:../e/render/src/DeepCopy.lua']=(function()local function a(b,c)c=c or{}local d=type(b)local e;if d=='table'then if c[b]then e=c[b]else e={}c[b]=e;for f,g in next,b,nil do e[a(f,c)]=a(g,c)end;setmetatable(e,a(getmetatable(b),c))end else e=b end;return e end;function DeepCopy(h)return a(h)end;return DeepCopy end)()_REQ['YFS:../e/render/src/Layout.lua']=(function()local a=_REQ['YFS:../e/render/src/native/Font.lua']local b=_REQ['YFS:../e/render/src/native/Props.lua']local c=_REQ['YFS:../e/render/src/native/Vec2.lua']local d=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local e=_REQ['YFS:../e/render/src/native/Color.lua']local f=_REQ['YFS:../e/render/src/Binder.lua']local g=_REQ['YFS:../e/render/src/native/ColorAndDistance.lua']local h=_REQ['YFS:../e/render/src/DeepCopy.lua']local i={}i.__index=i;function i.New(j,k,l,m)local n={}local o={}local p={}local q={}local r=e.New(0.862745098,0.078431373,0.235294118)local s=b.New(r,0,g.New(e.Transparent(),0),g.New(r,1))local t=a.Get(FontName.RobotoMono,10)local u="activatepage{%s*(.-)%s*}"local function v(w)if not w then return false end;for x,y in pairs(w)do o[x]=a.Get(y.font,y.size)end;return true end;local function z(A)if not A then return false end;for x,B in pairs(A)do p[x]=b.Load(B)end;return true end;local function C(D,E,F,G)if not l.CreateBinding(D,E,F)then local H=c.FromString(D)if H then E[F]=H else d.Log("Invalid value for Vec2 for "..F.." in "..G.." '"..tostring(D).."'")return false end end;return true end;local function I(E,y)local J={style="",insideStyle=nil,clickCommand=nil}local K=f.GetStrByPath(y,"style")or"-"if not l.CreateBinding(K,J,"style")then J.style=K end;local L=f.GetStrByPath(y,"mouse/inside/set_style")if L then if not l.CreateBinding(L,J,"insideStyle")then J.insideStyle=L end end;k.OnMouseInsideOrOutside(E,function(M,N)if N==MouseState.MouseInside and J.insideStyle then E.Props=p[J.insideStyle]or s else E.Props=p[J.style]or s end end)end;local function O(E,y)local J={clickCommand=nil}local P=f.GetStrByPath(y,"mouse/click/command")if P then if not l.CreateBinding(P,J,"clickCommand")then J.clickCommand=P end;k.OnMouseClick(E,function(M,N)local Q=J.clickCommand;if Q~=nil and string.len(Q)>0 then local R=Q:match(u)if R then n.Activate(R)else m.Write({mouse_click=Q})end end end)end end;local function S(E,y)local T=type(y.visible)if T=="boolean"then local U=y.visible;E.Visible=U elseif T=="string"then local U=y.visible;if not l.CreateBinding(U,E,"Visible")then return false end elseif T~="nil"then d.Log("Invalid data type for visibility binding: "..T)return false end;return true end;local function V(E,y)local T=type(y.hitable)if T=="boolean"then local U=y.hitable;E.Hitable=U elseif T=="string"then local U=y.hitable;if not l.CreateBinding(U,E,"Hitable")then return false end elseif T~="nil"then d.Log("Invalid data type for hitable binding: "..T)return false end;return true end;local function W(E,y)I(E,y)O(E,y)S(E,y)V(E,y)end;local function X(Y,y)local Z=f.GetNumByPath(y,"corner_radius")or 0;local _=Y.Box(c.New(),c.New(),Z)if not(C(y.pos1,_,"Pos1","box")and C(y.pos2,_,"Pos2","box"))then return nil end;W(_,y)return _ end;local function a0(Y,y)local a1=f.GetStrByPath(y,"font")or"-"local a2=o[a1]or t;local a3=Y.Text("",c.New(),a2)if not C(y.pos1,a3,"Pos1","text")then return nil end;if not l.CreateBinding(y.text,a3,"Text")then a3.Text=y.text end;W(a3,y)return a3 end;local function a4(Y,y)local a5=Y.Line(c.New(),c.New())if not(C(y.pos1,a5,"Pos1","line")and C(y.pos2,a5,"Pos2","line"))then return nil end;W(a5,y)return a5 end;local function a6(Y,y)local a7=f.GetNumByPath(y,"radius")or 50;local a8=Y.Circle(c.New(),a7)if not C(y.pos1,a8,"Pos1","circle")then return nil end;W(a8,y)return a8 end;local function a9(Y,y)local aa=f.GetStrByPath(y,"url")local ab=Y.Image(aa or"",c.zero,c.zero)if not(C(y.pos1,ab,"Pos","image")and C(y.dimensions or tostring(c.zero),ab,"Dimensions","image"))then return nil end;if y.sub and y.subDimensions then if not(C(y.sub,ab,"Sub","image")and C(y.subDimensions,ab,"SubDimensions","image"))then return nil end end;W(ab,y)return ab end;local function ac(ad)local ae=nil;local Y=ad.layer;local T=tostring(ad.type)if type(Y)=="number"then local af=j.Layer(Y)if T=="box"then ae=X(af,ad)elseif T=="text"then ae=a0(af,ad)elseif T=="line"then ae=a4(af,ad)elseif T=="circle"then ae=a6(af,ad)elseif T=="image"then ae=a9(af,ad)end else d.Log("Invalid layer number '"..tostring(Y).."', type "..T)end;if ae==nil then d.Log("Could not create component for type "..T)end;return ae~=nil end;local function ag(Q,ah)for ai,B in pairs(Q)do if type(B)=="table"then ag(B,ah)elseif type(B)=="string"then Q[ai]=B:gsub("%[%#%]",tostring(ah))end end end;local function aj(ad,ak,al,ah)local am=1;local function an(ao)return(ao+c.New(ak,al)):ToString()end;while true do local x=string.format("pos%d",am)am=am+1;local ap=ad[x]if not ap then break end;local H=c.FromString(ap)if H then ad[x]=an(H)else local aq=ap:match(f.InitPat)if aq then H=c.FromString(aq)if H then ap=ap:gsub("init{%(.-%)}","init{"..an(H).."}")end end;local ar=ap:match(f.PercentPat)if ar then H=c.FromString(ar)if H then ap=ap:gsub("percent{%(.-%)}","percent{"..an(H).."}")end end;ad[x]=ap end end;ag(ad,ah)end;local function as(R)if not R.components then d.Log("No components in page")return false end;local ae=true;for at,ad in pairs(R.components)do local au=ad.replicate or{}au.x_count=au.x_count or 1;au.y_count=au.y_count or 1;au.x_step=au.x_step or 0;au.y_step=au.y_step or 0;local ak=0;local al=0;local av=function(ah)local aw=ak;if au.x_step>0 then if au.column_mode then if ah%au.y_count==0 then ak=ak+au.x_step end else if ah%au.x_count==0 then ak=0 else ak=ak+au.x_step end end end;return aw end;local ax=function(ah)local ay=al;if au.y_step>0 then if au.column_mode then if ah%au.y_count==0 then al=0 else al=al+au.y_step end else if ah%au.x_count==0 then al=al+au.y_step end end end;return ay end;for am=1,au.x_count*au.y_count do local az=h(ad)aj(az,av(am),ax(am),am)ae=ac(az)if not ae then break end end;if not ae then return ae end end;return true end;function n.SetLayout(aA)q=aA;return v(q.fonts)and z(q.styles)end;function n.Activate(aB)j.Clear()k.Clear()l.Clear()local aC=q.pages;if aC then for at,x in ipairs(f.Split(aB,","))do local H=aC[x]if not H or not as(H)then d.Log("Could not load page by name '"..x.."'")return false end end else d.Log("No pages in layout")end;return true end;function n.Styles()return p end;function n.Fonts()return o end;return setmetatable(n,i)end;return i end)()_REQ['YFS:../e/render/e/stream/src/device/RenderScriptDevice.lua']=(function()local a={}a.__index=a;function a.New()local b={}function b.Send(c)setOutput(c)end;function b.Read()return getInput()end;function b.Clear()end;function b.IsController()return false end;function b.BlockSize()return 1024 end;return setmetatable(b,a)end;return a end)()_REQ['YFS:../e/render/src/native/Text.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b=math.abs;local c=_REQ['YFS:../e/render/src/native/Vec2.lua']local d={}d.__index=d;function d.New(e,f,g,h,i)local j={Text=e or"",Pos1=f,Font=h,Props=i,Layer=g,Visible=true,Hitable=true}function j.Bounds()return a.GetTextBounds(j.Font,j.Text)end;function j.Width()return j.Bounds().x end;function j.Height()return j.Bounds().y end;function j.Render()local k=j.Layer.Id;j.Props.Apply(k)a.AddText(k,j.Font.GetID(),j.Text,j.Pos1:Unpack())end;function j.GetHitBoxOffset()local l=j.Font.GetID()local m,n=a.GetFontMetrics(l)local o=a.GetFontSize(l)local p=j.Props.Align.Hor;local q=j.Props.Align.Ver;local r=0;if p==RSAlignHor.Center then r=-j.Bounds().x/2 elseif p==RSAlignHor.Right then r=-j.Bounds().x end;local s=0;if q==RSAlignVer.Ascender then s=o-m elseif q==RSAlignVer.Top then s=0 elseif q==RSAlignVer.Middle then s=-j.Bounds().y/2 elseif q==RSAlignVer.Baseline then s=-m elseif q==RSAlignVer.Bottom then s=-o+n elseif q==RSAlignVer.Descender then s=-o+n end;return c.New(r,s)end;function j.Hit(t)local u=j.Pos1+j.GetHitBoxOffset()local v=u+j.Bounds()return j.Hitable and j.Visible and t.x>=u.x and t.x<=v.x and t.y>=u.y and t.y<=v.y end;return setmetatable(j,d)end;return d end)()_REQ['YFS:../e/render/src/native/Image.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b=_REQ['YFS:../e/render/src/native/Vec2.lua']local c={}c.__index=c;function c.New(d,e,f,g,h,i,j)local k={Pos=e,Dimensions=f,Sub=i,SubDimensions=j,Props=h,Layer=g,Visible=true,Hitable=true}function k.IsLoaded()return a.IsImageLoaded(k.Id)end;function k.Width()return k.Dimensions.x end;function k.Height()return k.Dimensions.y end;function k.FillScreen()k.Pos=b.New()k.Dimensions=b.New(a.GetResolution())end;function k.Render()local l=a.LoadImage(d)local m=a.IsImageLoaded(l)if m and k.Dimensions==b.zero then k.Dimensions=b.New(a.GetImageSize(l))end;local n=k.Layer.Id;k.Props.Apply(n)if k.Sub and k.SubDimensions then a.AddImageSub(k.Layer.Id,l,k.Pos.x,k.Pos.y,k.Dimensions.x,k.Dimensions.y,k.Sub.x,k.Sub.y,k.SubDimensions.x,k.SubDimensions.y)else a.AddImage(k.Layer.Id,l,k.Pos.x,k.Pos.y,k.Dimensions.x,k.Dimensions.y)end end;function k.Hit(o)local p=k.Pos+k.Dimensions;return k.Hitable and k.Visible and o.x>=k.Pos.x and o.x<=p.x and o.y>=k.Pos.y and o.y<=p.y end;return setmetatable(k,c)end;return c end)()_REQ['YFS:../e/render/src/native/Box.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d,e,f,g)local h={Layer=c,Pos1=d,Pos2=e,CornerRadius=f,Props=g,Visible=true,Hitable=true}function h.Render()local i=h.Layer.Id;h.Props.Apply(i)local j=h.Pos2-h.Pos1;local k=h.CornerRadius;if k and k>0 then a.AddBoxRounded(i,h.Pos1.x,h.Pos1.y,j.x,j.y,k)else a.AddBox(i,h.Pos1.x,h.Pos1.y,j.x,j.y)end end;function h.Hit(l)local m=h.Pos1;local n=h.Pos2;return h.Hitable and h.Visible and l.x>=m.x and l.x<=n.x and l.y>=m.y and l.y<=n.y end;return setmetatable(h,b)end;return b end)()_REQ['YFS:../e/render/src/native/Bezier.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d,e,f,g)local h={Layer=c,Pos1=d,Pos2=e,Pos3=f,Props=g,Visible=true}function h.Render()local i=h.Layer.Id;h.Props.Apply(i)local j,k=h.Pos1:Unpack()local l,m=h.Pos2:Unpack()local n,o=h.Pos3:Unpack()a.AddBezier(i,j,k,l,m,n,o)end;return setmetatable(h,b)end;return b end)()_REQ['YFS:../e/render/src/native/Circle.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d,e,f)local g={Layer=c,Pos1=d,Radius=e,Props=f,Visible=true,Hitable=true}function g.Render()local h=g.Layer.Id;g.Props.Apply(h)local i,j=g.Pos1:Unpack()a.AddCircle(h,i,j,g.Radius)end;function g.Hit(k)return g.Hitable and g.Visible and(g.Pos1-k):Len()<=g.Radius end;return setmetatable(g,b)end;return b end)()_REQ['YFS:../e/render/src/native/Line.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d,e,f)local g={Layer=c,Pos1=d,Pos2=e,Props=f,Visible=true}function g.Render()local h=g.Layer.Id;g.Props.Apply(h)local i,j=g.Pos1:Unpack()local k,l=g.Pos2:Unpack()a.AddLine(h,i,j,k,l)end;return setmetatable(g,b)end;return b end)()_REQ['YFS:../e/render/src/native/Triangle.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d,e,f,g)local h={Layer=c,Pos1=d,Pos2=e,Pos3=f,Props=g,Visible=true,Hitable=true}function h.Render()local i=h.Layer.Id;h.Props.Apply(i)local j,k=h.Pos1:Unpack()local l,m=h.Pos2:Unpack()local n,o=h.Pos3:Unpack()a.AddTriangle(i,j,k,l,m,n,o)end;function h.Hit(p)local q=h.Pos3.y-h.Pos1.y;local r=h.Pos3.x-h.Pos1.x;local s=h.Pos2.y-h.Pos1.y;local t=p.y-h.Pos1.y;local u=(h.Pos1.x*q+t*r-p.x*q)/(s*r-(h.Pos2.x-h.Pos1.x)*q)local v=(t-u*s)/q;return h.Hitable and h.Visible and u>=0 and v>=0 and u+v<=1 end;return setmetatable(h,b)end;return b end)()_REQ['YFS:../e/render/src/native/Quad.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b={}b.__index=b;function b.New(c,d,e,f,g,h)local i={Layer=c,Pos1=d,Pos2=e,Pos3=f,PosD=g,Props=h,Visible=true,Hitable=true}function i.Render()local j=i.Layer.Id;i.Props.Apply(j)local k,l=i.Pos1:Unpack()local m,n=i.Pos2:Unpack()local o,p=i.Pos3:Unpack()local q,r=i.PosD:Unpack()a.AddQuad(j,k,l,m,n,o,p,q,r)end;return setmetatable(i,b)end;return b end)()_REQ['YFS:../e/render/src/native/Layer.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b=_REQ['YFS:../e/render/src/native/Vec2.lua']local c=_REQ['YFS:../e/render/src/native/Text.lua']local d=_REQ['YFS:../e/render/src/native/Image.lua']local e=_REQ['YFS:../e/render/src/native/Box.lua']local f=_REQ['YFS:../e/render/src/native/Bezier.lua']local g=_REQ['YFS:../e/render/src/native/Circle.lua']local h=_REQ['YFS:../e/render/src/native/Line.lua']local i=_REQ['YFS:../e/render/src/native/Triangle.lua']local j=_REQ['YFS:../e/render/src/native/Quad.lua']local k=_REQ['YFS:../e/render/src/native/Props.lua']local l={}l.__index=l;function l.New()local m={Id=0,Origin=b.New(),Rotation=0,Scale=b.New(1,1),Components={}}function m.Text(n,o,p,q)local r=c.New(n,o,m,p,q or k.Default())table.insert(m.Components,r)return r end;function m.Image(s,o,t,q)local u=d.New(s,o,t,m,q or k.Default())table.insert(m.Components,u)return u end;function m.Box(v,w,x,q)local y=e.New(m,v,w,x,q or k.Default())table.insert(m.Components,y)return y end;function m.Bezier(z,y,A,q)local B=f.New(m,z,y,A,q or k.Default())table.insert(m.Components,B)return B end;function m.Circle(o,C,q)local D=g.New(m,o,C,q or k.Default())table.insert(m.Components,D)return D end;function m.Line(z,y,q)local E=h.New(m,z,y,q or k.Default())table.insert(m.Components,E)return E end;function m.Quad(z,y,A,F,q)local G=j.New(m,z,y,A,F,q or k.Default())table.insert(m.Components,G)return G end;function m.Triangle(z,y,A,q)local H=i.New(m,z,y,A,q or k.Default())table.insert(m.Components,H)return H end;function m.Render()m.Id=a.CreateLayer()a.SetLayerOrigin(m.Id,m.Origin:Unpack())a.SetLayerRotation(m.Id,math.rad(m.Rotation))a.SetLayerScale(m.Id,m.Scale:Unpack())for I,J in ipairs(m.Components)do if J.Visible then J.Render()end end end;function m.Clear()m.Components={}end;function m.DetermineHitElement(K)for L=#m.Components,1,-1 do local J=m.Components[L]if type(J.Hit)=="function"then if J.Hit(K)then return J end end end;return nil end;return setmetatable(m,l)end;return l end)()_REQ['YFS:../e/render/src/native/Screen.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b=_REQ['YFS:../e/render/src/native/Vec2.lua']local c=_REQ['YFS:../e/render/src/native/Layer.lua']local d=_REQ['YFS:../e/render/src/native/Font.lua']local e={}e.__index=e;function e.New()local f={}local g={}function f.Layer(h)while h>#g do table.insert(g,c.New())end;return g[h]end;function f.Bounds()return b.New(a.GetResolution())end;function f.Width()return f.Bounds().x end;function f.Height()return f.Bounds().y end;function f.Render(i)for j=1,#g do g[j].Render()end;if i then local k;if#g==0 then k=f.Layer(1)k.Render()else k=g[#g]end;local l=d.Get(FontName.Play,20)local m=string.format("Res: %s, cost: %0.2f%%",f.Bounds():ToString(),f.Stats())local n=a.GetTextBounds(l,m)local o=a.GetTextBounds(l,"R").x;local p=b.New(o,f.Bounds().y-n.y)a.SetNextFillColor(k.Id,1,1,1,1)a.AddText(k.Id,l.GetID(),m,p:Unpack())end;d.Clear()end;function f.Clear()for j=1,#g do g[j].Clear()end end;function f.Animate(q,r)f.Render(r)a.RequestAnimationFrame(q)end;function f.Stats()return a.GetRenderCost()/a.GetRenderCostMax()*100 end;function f.TimeSinceStart()return a.GetTime()end;function f.DeltaTime()return a.GetDeltaTime()end;function f.CursorPos()return b.New(a.GetCursor())end;function f.Pressed()return a.GetCursorPressed()end;function f.Released()return a.GetCursorReleased()end;function f.DetermineHitElement()local s=b.New(a.GetCursor())for j=#g,1,-1 do local t=g[j].DetermineHitElement(s)if t then return t end end;return nil end;function f.CountParts(u)if u==nil then u=false end;local v=0;for w,k in ipairs(g)do if u then for w,x in ipairs(k.Components)do if x.Visible then v=v+1 end end else v=v+#k.Components end end;return#g,v end;return setmetatable(f,e)end;return e end)()_REQ['YFS:../e/render/src/Behaviour.lua']=(function()local a=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local b=_REQ['YFS:../e/render/src/native/Vec2.lua']MouseState={Click=1,MouseDown=2,MouseUp=3,MouseInside=4,MouseOutside=5}local c={}c.__index=c;function c.New()local d={}local e={}local f={}local g={}function d.OnMouseClick(h,i)table.insert(e,{obj=h,handler=i})end;function d.OnMouseDownOrUp(h,i)table.insert(f,{obj=h,handler=i})end;function d.OnMouseInsideOrOutside(h,i)table.insert(g,{obj=h,handler=i})end;function d.TriggerEvents(j)local k=a.GetCursorPressed()local l=a.GetCursorDown()local m=j.DetermineHitElement()for n,o in ipairs(e)do if k and m==o.obj then o.handler(o.obj,MouseState.Click)end end;for n,o in ipairs(f)do if l and m==o.obj then o.handler(o.obj,MouseState.MouseDown)else o.handler(o.obj,MouseState.MouseUp)end end;for n,o in ipairs(g)do if m==o.obj then o.handler(o.obj,MouseState.MouseInside)else o.handler(o.obj,MouseState.MouseOutside)end end end;function d.Clear()e={}f={}g={}end;return setmetatable(d,c)end;return c end)()_REQ['YFS:../e/render/src/Driver.lua']=(function()local a=_REQ['YFS:../e/render/src/Binder.lua']local b=_REQ['YFS:../e/render/src/native/Font.lua']local c=_REQ['YFS:../e/render/src/native/Props.lua']local d=_REQ['YFS:../e/render/src/native/Color.lua']local e=_REQ['YFS:../e/render/e/stream/src/Stream.lua']local f=_REQ['YFS:../e/render/src/Layout.lua']local g=_REQ['YFS:../e/render/src/native/RenderScript.lua'].Instance()local h=_REQ['YFS:../e/render/e/stream/src/device/RenderScriptDevice.lua']local i={}i.__index=i;function i.Instance()if _ENV.DriverSingelton then return _ENV.DriverSingelton end;local j={}local k=nil;local l=_REQ['YFS:../e/render/src/native/Screen.lua'].New()local m=a.New()local n=_REQ['YFS:../e/render/src/Behaviour.lua'].New()local o;function j.OnData(p)local q=a.GetTblByPath(p,"screen_layout")local r=a.GetStrByPath(p,"activate_page")if q then if not o.SetLayout(q)then g.Log("Could not load layout")end elseif r then o.Activate(r)else m.MergeData(p)end end;function j.OnTimeout(s,t)if s then l.Clear()m.Clear()n.Clear()if k==nil then local u=l.Layer(1)local v="No communication!"local w=b.Get(FontName.Play,30)local x=u.Text(v,l.Bounds()/2-g.GetTextBounds(w,v)/2,w,c.New())x.Props.Fill=d.New(1,0,0)elseif not(o.SetLayout(k)and o.Activate("offline"))then g.Log("Could not load offline layout or activate the page")end end end;function j.RegisterStream(t)end;local t=e.New(h.New(),j,1)o=f.New(l,n,m,t)function j.Render(y,z)t.Tick()m.Render()n.TriggerEvents(l)l.Animate(y,z)end;function j.Animate(z)j.Render(1,z or false)end;function j.SetOfflineLayout(o)k=o end;_ENV.DriverSingelton=setmetatable(j,i)return j end;return i end)()local aD=_REQ['YFS:screen/offline_layout.lua']local aE=_REQ['YFS:../e/render/src/Driver.lua'].Instance()aE.SetOfflineLayout(aD)aE.Render(10,false)